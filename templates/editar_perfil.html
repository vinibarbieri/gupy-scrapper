{% extends 'base.html' %}

{% block title %}Editar Perfil{% endblock %}

{% block content %}
<h2 class="text-2xl font-semibold mb-4">Editar Perfil do Candidato</h2>

<form class="space-y-6 max-w-3xl" method="POST" enctype="multipart/form-data">

  <!-- Dados pessoais -->
  <div class="grid md:grid-cols-2 gap-4">
    <div>
      <label class="block mb-1">Nome:</label>
      <input name="nome" value="{{ dados.nome or '' }}" type="text" class="w-full p-2 rounded bg-gray-700 border border-gray-600 text-white" />
    </div>
    <div>
      <label class="block mb-1">Email:</label>
      <input name="email" value="{{ dados.email or '' }}" type="email" class="w-full p-2 rounded bg-gray-700 border border-gray-600 text-white" />
    </div>
    <div>
      <label class="block mb-1">Telefone:</label>
      <input name="telefone" value="{{ dados.telefone or '' }}" type="text" class="w-full p-2 rounded bg-gray-700 border border-gray-600 text-white" />
    </div>
    <div>
      <label class="block mb-1">CPF:</label>
      <input name="cpf" value="{{ dados.cpf or '' }}" type="text" class="w-full p-2 rounded bg-gray-700 border border-gray-600 text-white" />
    </div>
  </div>

  <!-- EndereÃ§o -->
  <fieldset class="border-t border-gray-600 pt-4">
    <legend class="text-lg font-semibold text-white mb-2">EndereÃ§o</legend>
    <div class="grid md:grid-cols-3 gap-4">
      <input name="rua" value="{{ dados.endereco.rua if dados.endereco else '' }}" placeholder="Rua" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="numero" value="{{ dados.endereco.numero if dados.endereco else '' }}" placeholder="NÃºmero" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="cep" value="{{ dados.endereco.cep if dados.endereco else '' }}" placeholder="CEP" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="cidade" value="{{ dados.endereco.cidade if dados.endereco else '' }}" placeholder="Cidade" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="estado" value="{{ dados.endereco.estado if dados.endereco else '' }}" placeholder="Estado" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
    </div>
  </fieldset>

  <!-- FormaÃ§Ã£o -->
  <fieldset class="border-t border-gray-600 pt-4">
    <legend class="text-lg font-semibold text-white mb-2">FormaÃ§Ã£o</legend>
    <div class="grid md:grid-cols-2 gap-4">
      <input name="curso" value="{{ dados.formacao.curso if dados.formacao else '' }}" placeholder="Curso" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="instituicao" value="{{ dados.formacao.instituicao if dados.formacao else '' }}" placeholder="InstituiÃ§Ã£o" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="ano_inicio" value="{{ dados.formacao.ano_inicio if dados.formacao else '' }}" placeholder="Ano de inÃ­cio" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="ano_fim" value="{{ dados.formacao.ano_fim if dados.formacao else '' }}" placeholder="Ano de tÃ©rmino (ou deixe em branco)" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
    </div>
  </fieldset>

  <!-- ExperiÃªncia -->
  <fieldset class="border-t border-gray-600 pt-4">
    <legend class="text-lg font-semibold text-white mb-2">ExperiÃªncia</legend>
    <div class="grid md:grid-cols-2 gap-4">
      <input name="cargo" value="{{ dados.experiencias[0].cargo if dados.experiencias else '' }}" placeholder="Cargo" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="empresa" value="{{ dados.experiencias[0].empresa if dados.experiencias else '' }}" placeholder="Empresa" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="inicio" value="{{ dados.experiencias[0].inicio if dados.experiencias else '' }}" placeholder="InÃ­cio (ex: 2022-01)" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
      <input name="fim" value="{{ dados.experiencias[0].fim if dados.experiencias else '' }}" placeholder="Fim (ou deixe em branco)" class="p-2 rounded bg-gray-700 border border-gray-600 text-white" />
    </div>
    <textarea name="descricao" placeholder="DescriÃ§Ã£o da experiÃªncia" class="w-full p-2 mt-2 rounded bg-gray-700 border border-gray-600 text-white">{{ dados.experiencias[0].descricao if dados.experiencias else '' }}</textarea>
  </fieldset>

  <!-- Links -->
  <fieldset class="border-t border-gray-600 pt-4">
    <legend class="text-lg font-semibold text-white mb-2">Links</legend>
    <input name="linkedin" value="{{ dados.links.linkedin if dados.links else '' }}" placeholder="LinkedIn" class="w-full p-2 mb-2 rounded bg-gray-700 border border-gray-600 text-white" />
    <input name="github" value="{{ dados.links.github if dados.links else '' }}" placeholder="GitHub" class="w-full p-2 rounded bg-gray-700 border border-gray-600 text-white" />
  </fieldset>

  <!-- CurrÃ­culo PDF -->
  <div class="pt-4 border-t border-gray-600">
    <label class="block mb-1 font-medium text-white">CurrÃ­culo (PDF):</label>
    <div class="relative w-full">
      <label for="curriculo" class="cursor-pointer inline-flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white shadow-sm">
        ðŸ“Ž Selecionar PDF
      </label>
      <input id="curriculo" name="curriculo" type="file" accept="application/pdf" class="hidden"
        onchange="document.getElementById('file-name').textContent = this.files[0]?.name || 'Nenhum arquivo selecionado'" />
      <span id="file-name" class="ml-4 text-sm text-gray-400 italic">Nenhum arquivo selecionado</span>
    </div>
  </div>

  <button type="submit" class="mt-4 px-6 py-2 bg-green-600 hover:bg-green-700 rounded text-white">
    Salvar AlteraÃ§Ãµes
  </button>
</form>
{% endblock %}
